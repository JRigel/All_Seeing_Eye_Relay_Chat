alias custom_change {
  dll " $+ $mircdir\etc\mircustom.dll $+ " Titlebar -m $iif($readini($cfgfile,ì‚¬ìš©ì,íƒ€ì´í‹€ë°”) != $null,$strip($title,burc),All Seeing Eye Relay Chat)
  dll " $+ $mircdir\etc\mircustom.dll $+ " SetIcon -m $iif($isfile($readini($cfgfile,ì‚¬ìš©ì,ì•„ì´ì½˜)) == $true,$readini($cfgfile,ì‚¬ìš©ì,ì•„ì´ì½˜),$mircdiretc\asirc.ico)
}

;; start ì´ë²¤íŠ¸ ;;
on 1:start:{
  custom_change
  unsetall
  .run $dde_relay
  main_i

  if ($mnick == $null) { .timerscfg 1 1.1 dialog -m setting setting }
  elseif ($mnick != $null) { if ($status != connected) { server } }
}

;; ì ‘ì† ë¶€ë¶„ ;;
on 1:connect:{
  {
    ;; ê±°ë¶€ ì„¤ì •ì´ ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸.
    if ($readini($cfgfile,ì„¤ì •,ì¿¼ë¦¬ê±°ë¶€) == ì¼œì§) { .ignore -p *!*@* }
    elseif ($readini($cfgfile,ì„¤ì •,ì¿¼ë¦¬ê±°ë¶€) == êº¼ì§) { .ignore -pr *!*@* }

    if ($readini($cfgfile,ì„¤ì •,ì´ˆëŒ€ê±°ë¶€) == ì¼œì§) { .ignore -i *!*@* }
    elseif ($readini($cfgfile,ì„¤ì •,ì´ˆëŒ€ê±°ë¶€) == êº¼ì§) { .ignore -ir *!*@* }

    if ($readini($cfgfile,ì„¤ì •,ì‹œí‹°ì‹œí”¼ê±°ë¶€) == ì¼œì§) { .ign./ore -t *!*@* }
    elseif ($readini($cfgfile,ì„¤ì •,ì‹œí‹°ì‹œí”¼ê±°ë¶€) == êº¼ì§) { .ignore -tr *!*@* }

    if ($readini($cfgfile,ì„¤ì •,ë…¸í‹°ìŠ¤ê±°ë¶€) == ì¼œì§) { .ignore -n *!*@* }
    elseif ($readini($cfgfile,ì„¤ì •,ë…¸í‹°ìŠ¤ê±°ë¶€) == êº¼ì§) { .ignore -nr *!*@* }

    if ($readini($cfgfile,ì„¤ì •,ë””ì”¨ì”¨ê±°ë¶€) == ì¼œì§) { .ignore -d *!*@* }
    elseif ($readini($cfgfile,ì„¤ì •,ë””ì”¨ì”¨ê±°ë¶€) == êº¼ì§) { .ignore -dr *!*@* }
  }

  ;; Anti-idle ì‚¬ìš© ì—¬ë¶€.
  if ($readini($cfgfile,ì„¤ì •,ì•ˆí‹°ì•„ì´ë“¤) == ì¼œì§) { anti-idle }

  ;;ìë™ì¡°ì¸ ë¶€ë¶„
  ;;freenode ì „ìš©
  s.auth
  ic.aj
}

;; join, part ì´ë²¤íŠ¸.
;; ìë™ì¡°ì¸ ì±„ë„ ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ ë°©ì‹ ìˆ˜ì •.
on ^1:JOIN:#:{
  if ($nick != $me) {
    ;echo 3 -t $chan 10 $nick ( $+ $address $+ ) ë‹˜ê»˜ì„œ ì…ì¥í•˜ì…¨ìŠµë‹ˆë‹¤.
    echo $chan 10 $+ $timestamp 10 $nick $+ ( $+ $address $+ ) ë‹˜ì´ ì…ì¥í•˜ì…¨ìŠµë‹ˆë‹¤.
    dde asirc_server "" [ì…ì¥] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $+ ( $+ $address $+ )
  }
  elseif ($nick == $me) {
    .writeini -n $cfgfile c-buf $chan in
    if ($readini($cfgfile,ì„¤ì •,ìë™ì¡°ì¸) == ìë™) {
      if ($left($chan,1) == $chr(38)) { ;; freenodeëŠ” ì• ì´ˆì— ì§€ì›ì•ˆí•¨
        echo $chan $logo ìë™ì¡°ì¸ ì¶”ê°€ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” íƒ€ì…ì˜ ì±„ë„ì…ë‹ˆë‹¤.
      }
      else {
        var %i = 1, %t = $chan
        while ($readini(autojoin.txt,$network,%i) != $null) {
          if ($readini(autojoin.txt,$network,%i) != %t) inc %i
          else break
        }
        if ($readini(autojoin.txt,$network,%i) == $null) {
          writeini -n autojoin.txt $network %i %t
        }
      }
    }
  }
  halt
}

;; í‡´ì‹¤ ë¶€ë¶„ ;;
on ^1:PART:#:{
  if ($nick != $me) {
    dde asirc_server "" [í‡´ì¥] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $+ ( $+ $address $+ ) $iif($1-!=$null,( $+ $1- $+ ),$null)
    echo $chan 10 $+ $timestamp 10 $nick $+ ( $+ $address $+ ) ë‹˜ì´ í‡´ì¥í•˜ì…¨ìŠµë‹ˆë‹¤. $&
      $iif($1-!=$null,( $+ $1- $+ ),$null)
  }
  elseif ($nick == $me) {
    dde asirc_server "" [ë‚´í‡´ì¥] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan
    if ($readini($cfgfile,ì„¤ì •,ìë™ì¡°ì¸) == ìë™) {
      var %i = 1, %t = $chan
      :ajf_lctd
      if ($readini(autojoin.txt,$network,%i) != $null) {
        if ($readini(autojoin.txt,$network,%i) == %t) {
          remini autojoin.txt $network %i
          var %ai = $calc(%i + 1)
          :ajf_llftd
          if ($readini(autojoin.txt,$network,%ai) != $null) {
            writeini -n autojoin.txt $network %i $readini(autojoin.txt,$network,%ai)
            inc %i | inc %ai | goto ajf_llftd
          }
          remini autojoin.txt $network %i
          halt
        }
        else { inc %i | goto ajf_lctd }
      }
      else { halt }
    }
  }
  halt
}

;; í˜¸ì¶œ
on ^1:NOTICE:*:*: {
  if ($me isincs $1-) {
    dde asirc_server "" [í˜¸ì¶œ] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $1-
    if ($readini($cfgfile,ì„¤ì •,í˜¸ì¶œìŒ) == ì¼œì§) {
      var %cps
      if ($readini($cfgfile,ì„¤ì •,ëª…ë ¹í˜¸ì¶œ) == ì¼œì§) {
        if ($1 != !í˜¸ì¶œ) { %cps = $false }
        elseif ($1 == !í˜¸ì¶œ) {
          if ($readini($cfgfile,ì„¤ì •,ì—„ê²©í˜¸ì¶œ) == ì¼œì§) {
            if ($2 != $me) || ($3- != $null) { %cps = $false }
            elseif (($2 == $me) && ($3- == $null)) { %cps = $true }
          }
          else { %cps = $true }
        }
      }
      else { %cps = $true }
      if (%cps) { window -g2 $chan | splay " $+ $mircdirsounds\paging.wav $+ " }
    }
    if ($readini($cfgfile,ì„¤ì •,í˜¸ì¶œê¸°ë¡) == ì¼œì§) {
      var %cwl
      if ($readini($cfgfile,ì„¤ì •,ëª…ë ¹í˜¸ì¶œ) == ì¼œì§) {
        if ($1 != !í˜¸ì¶œ) { %cwl = $false }
        elseif ($1 == !í˜¸ì¶œ) {
          if ($readini($cfgfile,ì„¤ì •,ì—„ê²©í˜¸ì¶œ) == ì¼œì§) {
            if ($2 != $me) || ($3- != $null) { %cwl = $false }
            elseif (($2 == $me) && ($3- == $null)) { %cwl = $true }
          }
          else { %cwl = $true }
        }
      }
      else { %cwl = $true }
      if (%cwl) {
        window -g2 $chan
        if ($window(@í˜¸ì¶œ) == $null) { window -ng2k0 @í˜¸ì¶œ }
        else { window -g2 @í˜¸ì¶œ }
        aline @í˜¸ì¶œ $timestamp 4 $+  $+ $nick $+ ë‹˜ì´ $&
          12 $+ $network $+  ë„¤íŠ¸ì›Œí¬ 2 $+ $chan $+  ì±„ë„ì—ì„œ í˜¸ì¶œí•˜ì…¨ìŠµë‹ˆë‹¤.
      }
    }
  }
  else {
    var %i 0
    while (%i <= $lines(highlight.ini)) {
      var %temp $read(highlight.ini,[ %i ])
      if (%temp isin $1-) {
        dde asirc_server "" [ê°•ì¡°] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $1-
        var %x 1
      }
      inc %i
    } 
    if (%x != 1) dde asirc_server "" [ë…¸í‹°ìŠ¤] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $1-     
  }
}

on ^1:TEXT:*:*: {
  if ($chan == $null) { 
    if ($me isincs $1-) {
      window -g2 $nick
      if ($window(@í˜¸ì¶œ(ê·“ì†ë§)) == $null) { window -ng2k0 @í˜¸ì¶œ(ê·“ì†ë§) }
      else { window -g2 @í˜¸ì¶œ(ê·“ì†ë§) }
      aline @í˜¸ì¶œ(ê·“ì†ë§) $timestamp 4 $+  $+ $nick $+ ë‹˜ì´ í˜¸ì¶œí•˜ì…¨ìŠµë‹ˆë‹¤.
      dde asirc_server "" [ê·“ë§í˜¸ì¶œ] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $nick $1-
    }
    else {
      var %i 0
      while (%i <= $lines(highlight.ini)) {
        var %temp $read(highlight.ini,[ %i ])
        if (%temp isin $1-) {
          dde asirc_server "" [ê°•ì¡°] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) null $nick $1-
          var %x 1
        }
        inc %i
      } 
      if (%x != 1) dde asirc_server "" [ê·“ë§ëŒ€í™”] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $nick $1-
    }
    return
  }
  else {
    if ($me isincs $1-) {
      dde asirc_server "" [í˜¸ì¶œ] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $1-
      if ($readini($cfgfile,ì„¤ì •,í˜¸ì¶œìŒ) == ì¼œì§) {
        var %cps
        if ($readini($cfgfile,ì„¤ì •,ëª…ë ¹í˜¸ì¶œ) == ì¼œì§) {
          if ($1 != !í˜¸ì¶œ) { %cps = $false }
          elseif ($1 == !í˜¸ì¶œ) {
            if ($readini($cfgfile,ì„¤ì •,ì—„ê²©í˜¸ì¶œ) == ì¼œì§) {
              if ($2 != $me) || ($3- != $null) { %cps = $false }
              elseif (($2 == $me) && ($3- == $null)) { %cps = $true }
            }
            else { %cps = $true }
          }
        }
        else { %cps = $true }
        if (%cps) { window -g2 $chan | splay " $+ $mircdirsounds\paging.wav $+ " }
      }
      if ($readini($cfgfile,ì„¤ì •,í˜¸ì¶œê¸°ë¡) == ì¼œì§) {
        var %cwl
        if ($readini($cfgfile,ì„¤ì •,ëª…ë ¹í˜¸ì¶œ) == ì¼œì§) {
          if ($1 != !í˜¸ì¶œ) { %cwl = $false }
          elseif ($1 == !í˜¸ì¶œ) {
            if ($readini($cfgfile,ì„¤ì •,ì—„ê²©í˜¸ì¶œ) == ì¼œì§) {
              if ($2 != $me) || ($3- != $null) { %cwl = $false }
              elseif (($2 == $me) && ($3- == $null)) { %cwl = $true }
            }
            else { %cwl = $true }
          }
        }
        else { %cwl = $true }
        if (%cwl) {
          window -g2 $chan
          if ($window(@í˜¸ì¶œ) == $null) { window -ng2k0 @í˜¸ì¶œ }
          else { window -g2 @í˜¸ì¶œ }
          aline @í˜¸ì¶œ $timestamp 4 $+  $+ $nick $+ ë‹˜ì´ $&
            12 $+ $network $+  ë„¤íŠ¸ì›Œí¬ 2 $+ $chan $+  ì±„ë„ì—ì„œ í˜¸ì¶œí•˜ì…¨ìŠµë‹ˆë‹¤.
        }
      }
    }
    else {
      var %i 0
      while (%i <= $lines(highlight.ini)) {
        var %temp $read(highlight.ini,[ %i ])
        if (%temp isin $1-) {
          dde asirc_server "" [ê°•ì¡°] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $1-
          var %x 1
        }
        inc %i
      } 
      if (%x != 1) dde asirc_server "" [ëŒ€í™”] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $1-     
    }
  }
}

;; ìƒëŒ€ë°© ì¢…ë£Œ
on ^1:QUIT:{ 
  dde asirc_server "" [ì¢…ë£Œ] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $nick $+ ( $+ $address $+ ) $iif($1-!=$null,( $+ $1- $+ ),$null)
}

;; ì±„ë„ ëª¨ë“œ ë³€ê²½
on ^1:MODE:*:{ 
  dde asirc_server "" [ì±„ë„ëª¨ë“œ] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $1-
  echo 3 -t $chan * $nick ë‹˜ì˜ ëª¨ë“œ ì„¤ì •: $1- 
  halt 
}

;; ì˜µ/ë””ì˜µ
on ^1:OP:#:{
  dde asirc_server "" [ì˜µ] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $2-
  echo 3 -t $chan * $nick ë‹˜ì˜ ëª¨ë“œ ì„¤ì •: $1- 
  halt 
}
on ^1:DEOP:#:{
  dde asirc_server "" [ë””ì˜µ] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $2-
  echo 3 -t $chan * $nick ë‹˜ì˜ ëª¨ë“œ ì„¤ì •: $1- 
  halt 
}

;;ë³´ì´ìŠ¤/ë””ë³´ì´ìŠ¤
on ^1:VOICE:#:{
  dde asirc_server "" [ë³´ì´ìŠ¤] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $2-
  echo 3 -t $chan * $nick ë‹˜ì˜ ëª¨ë“œ ì„¤ì •: $1- 
  halt 
}
on ^1:DEVOICE:#:{
  dde asirc_server "" [ë””ë³´ì´ìŠ¤] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $2-
  echo 3 -t $chan * $nick ë‹˜ì˜ ëª¨ë“œ ì„¤ì •: $1- 
  halt 
}

;;í‚¥/ë°´/ì–¸ë°´
on ^1:KICK:#:{
  dde asirc_server "" [í‚¥] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $2-
  echo 3 -t $chan * $nick ë‹˜ì˜ ëª¨ë“œ ì„¤ì •: $1- 
  halt 
}
on ^1:BAN:#:{
  dde asirc_server "" [ë°´] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $2-
  echo 3 -t $chan * $nick ë‹˜ì˜ ëª¨ë“œ ì„¤ì •: $1- 
  halt 
}
on ^1:UNBAN:#:{
  dde asirc_server "" [ì–¸ë°´] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $2-
  echo 3 -t $chan * $nick ë‹˜ì˜ ëª¨ë“œ ì„¤ì •: $1- 
  halt 
}

;; topic ì´ë²¤íŠ¸.
on ^1:TOPIC:#:{
  dde asirc_server "" [í† í”½ë³€ê²½] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick $1-
  echo 3 -t $chan * $nick ë‹˜ì˜ í† í”½ ë³€ê²½: $1- 
  halt 
}

;; invite ì´ë²¤íŠ¸.
on ^1:INVITE:#:{
  dde asirc_server "" [ì´ˆëŒ€] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $chan $nick
  echo -a $logo $nick ë‹˜ê»˜ì„œ ë‹¹ì‹ ì„ $chan ì±„ë„ë¡œ ì´ˆëŒ€í•˜ì…¨ìŠµë‹ˆë‹¤. 
  halt 
}

;;ëŒ€í™”ëª… ë³€ê²½
;;ON NICK ì— $chan ì ìš© ì•ˆë¨
on ^1:NICK:{ 
  if ($nick == $me) {
    dde asirc_server "" [ë‚´ëŒ€í™”ëª…ë³€ê²½] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $newnick
    echo 3 -st * ë‹¹ì‹ ì˜ ìƒˆë¡œìš´ ëŒ€í™”ëª…ì€ $newnick ì…ë‹ˆë‹¤.
    echo 3 -at * $nick ë‹˜ì˜ ìƒˆë¡œìš´ ëŒ€í™”ëª…: $newnick
    halt
  }
  else {
    dde asirc_server "" [ëŒ€í™”ëª…ë³€ê²½] $asctime(yyyy.mm.dd.HH.nn.ss).mm.dd.HH.nn.ss) $nick $newnick
    echo 3 -at * $nick ë‹˜ì˜ ìƒˆë¡œìš´ ëŒ€í™”ëª…: $newnick
    halt
  }
}

;; ì„œë²„ ê³µì§€ ìˆ˜ì‹  ì‹œ ì‚¬ìš´ë“œ ì¬ìƒ ;;
on 1:SNOTICE:*:{
  if (%sp != $true) {
    set %sp $true
    splay " $+ $mircdirsounds\note.wav $+ "
    .timer 1 1 .unset %sp
  }
}

;; íŒŒì¼ ì†¡Â·ìˆ˜ì‹  ë¶€ë¶„ ;;
on 1:FILERCVD:*:{ echo -a $logo $nick ë‹˜ê»˜ì„œ ì „ì†¡í•˜ì‹  íŒŒì¼ì„ ìˆ˜ì‹ í•˜ì˜€ìŠµë‹ˆë‹¤. : $filename ( $+ $bytes($file($filename).size).suf $+ ) | set %dlfile $filename }
on 1:FILESENT:*:{ echo -a $logo $nick ë‹˜ê»˜ íŒŒì¼ì„ ì„±ê³µì ìœ¼ë¡œ ì†¡ì‹ í•˜ì˜€ìŠµë‹ˆë‹¤. : $filename ( $+ $bytes($file($filename).size).suf $+ ) }
on 1:SENDFAIL:*:{ echo -a $logo $nick ë‹˜ê»˜ íŒŒì¼ì„ ì†¡ì‹ í•˜ëŠ”ë° ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤. : $filename ( $+ $bytes($file($filename).size).suf $+ ) }
on 1:GETFAIL:*:{ echo -a $logo $nick ë‹˜ê»˜ì„œ ì „ì†¡í•˜ì‹  íŒŒì¼ì„ ìˆ˜ì‹ í•˜ëŠ”ë° ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤. : $filename }

;; CTCP ì‘ë‹µ í‘œì‹œ ë¶€ë¶„ ;;
on 1:CTCPREPLY:*: {
  if ($1 == VERSION) { echo -a $logo $nick ë‹˜ì˜ ë²„ì „ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. : $2- }
  elseif ($1 == PING) { echo -a $logo $nick ë‹˜ì˜ í•‘ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. : $calc($ctime - $2) $+ ì´ˆ }
  elseif ($1 == TIME) { echo -a $logo $nick ë‹˜ì˜ ì‹œê°„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. : $6 $+ ë…„ $&
      $replace($3,Jan,1,Feb,2,Mar,3,Apr,4,May,5,Jun,6,Jul,7,Aug,8,Sep,9,Oct,10,Nov,11,Dec,12) $+ ì›” $4 $+ ì¼ $&
      $replace($2,Mon,ì›”,Tue,í™”,Wed,ìˆ˜,Thu,ëª©,Fri,ê¸ˆ,Sat,í† ,Sun,ì¼) $+ ìš”ì¼ $&
    $iif($calc($gettok($5,1,58) - 12) < 0,ì˜¤ì „ $gettok($5,1,58),ì˜¤í›„ $calc($gettok($5,1,58) - 12)) $+ ì‹œ $gettok($5,2,58) $+ ë¶„ $gettok($5,3,58) $+ ì´ˆ }
  elseif ($1 == FINGER) { echo -a $logo $nick ë‹˜ì˜ í•‘ê±° ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. : $2- }
  ;
  elseif ($1 == UPTIME) { echo -a $logo $nick ë‹˜ì˜ ì—…íƒ€ì„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. : $remove($replace($duration($calc($2 / 1000)),wk,ì£¼,day,ì¼,hr,ì‹œê°„,min,ë¶„,sec,ì´ˆ),s) }
  elseif ($1 == IP) { echo -a $logo $nick ë‹˜ì˜ ì•„ì´í”¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. : $2- }  
  elseif ($1 == OS) { echo -a $logo $nick ë‹˜ì˜ ìš´ì˜ì²´ì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. : Windows $2- }
  ;
  elseif ($1 == CONFIRM_ZISN) { echo -a $logo $nick ë‹˜ì€ $2- ì„(ë¥¼) ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. }
}
;; CTCP ìˆ˜ì‹  ì‹œ ì‘ë‹µ ë¶€ë¶„ ;;
CTCP 1:*:*: {
  if (%ctcp.prtfl != $true) {
    %ctcp.prtfl = $true
    if ($1 == VERSION) { if ($readini($cfgfile,ctcp,version) == ì¼œì§) { .ctcpreply $nick VERSION $version } }
    elseif ($1 == UPTIME) { if ($readini($cfgfile,ctcp,uptime) == ì¼œì§) { .ctcpreply $nick UPTIME $uptime(system) } }
    elseif ($1 == IP) { if ($readini($cfgfile,ctcp,ip) == ì¼œì§) { .ctcpreply $nick IP $ip } }
    elseif ($1 == TIME) { if ($readini($cfgfile,ctcp,time) == ì¼œì§) { .ctcpreply $nick TIME $asctime } }
    elseif ($1 == OS) { if ($readini($cfgfile,ctcp,os) == ì¼œì§) { .ctcpreply $nick OS $os } }
    elseif ($1 == FINGER) { if ($readini($cfgfile,ctcp,finger) == ì¼œì§) {
        if ($readini($mircini,mirc,user) == $logof) { .ctcpreply $nick FINGER $logof ( $+ $emailaddr $+ ) Idle $idle secs }
        else { .ctcpreply $nick FINGER $fullname ( $+ $emailaddr $+ ) Idle $idle secs }
      }
    }
    elseif ($1 == CONFIRM_ZISN) { .ctcpreply $nick CONFIRM_ZISN $logomf }
    .timerprtfl 1 10 unset %ctcp.prtfl
  }
}

;; ì¢…ë£Œ ë¶€ë¶„ ;;
;; ì¢…ë£Œì‹œ ëª¨ë“  ë³€ìˆ˜ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤ ;;
on 1:EXIT:{ unsetall | dde_server exit | halt }
